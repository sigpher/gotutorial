## Go基础教程系列之回调函数和闭包详解

[Go基础教程系列之回调函数和闭包详解](https://www.jb51.net/article/244783.htm)

当函数具备以下两种特性的时候，就可以称之为高阶函数(high order functions)：

- 函数可以作为另一个函数的参数(典型用法是回调函数)
- 函数可以返回另一个函数，即让另一个函数作为这个函数的返回值(典型用法是闭包)

### 闭包

函数A返回函数B，最典型的用法就是闭包(closure)。

简单地说，闭包就是"一个函数+一个作用域环境"组成的特殊函数。这个函数可以访问不是它自己内部的变量，也就是这个变量在其它作用域内，且这个变量是未赋值的，而是等待我们去赋值的。

例如：

```go
package main
 
import "fmt"
 
func main() {
    // 自由变量x
    var x int
    // 闭包函数g
    g := func(i int) int {
        return x + i
    }
    x = 5
    // 调用闭包函数
    fmt.Println(g(5))
    x = 10
    // 调用闭包函数
    fmt.Println(g(3))
}
```
